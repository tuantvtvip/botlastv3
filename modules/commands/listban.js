module.exports.config={name:"listban",version:"1.0.0",hasPermssion:2,credits:"ManhG",description:"Xem danh sÃ¡ch ban cá»§a nhÃ³m hoáº·c cá»§a ngÆ°á»i dÃ¹ng",commandCategory:"Tiá»‡n Ã­ch",usages:"[thread/user]",cooldowns:5},module.exports.handleReply=async function({api:n,args:e,Users:a,handleReply:t,event:s,Threads:d}){const{threadID:r,messageID:l}=s;let g=await a.getNameUser(s.senderID);if(parseInt(s.senderID)===parseInt(t.author))switch(t.type){case"unbanthread":var h=s.body.split(" "),i="",o="",c="",u=h.map((n=>parseInt(n)));for(let n of u){var b=(p=t.listBanned[n-1]).slice(3);let e=p.split(":");const a=e[e.length-1].trim(),s=(await d.getData(a)).data||{};s.banned=0,s.reason=null,s.dateAdded=null,await d.setData(a,{data:s});var m=global.data.threadBanned.delete(a,1);i+=m+" "+p+"\n",o+=" "+a+"\n",c+=" "+b+"\n"}n.sendMessage(`ğŸŒ¸ThÃ´ng baÌo tá»« Admin ${g}Â«\n\n-NhÃ³m ${c} cuÌ‰a báº¡n Ä‘Ã£ Ä‘Æ°á»£c Gá»¡ Ban\n\n-CoÌ thÃªÌ‰ sÆ°Ì‰ duÌ£ng Ä‘Æ°Æ¡Ì£c bot ngay bÃ¢y giÆ¡Ì€ğŸŒ¸`,o,(()=>n.sendMessage(`${global.data.botID}`,(()=>n.sendMessage(`ğŸŒ¸ThÆ°Ì£c thi Unban(true/false)ğŸŒ¸\n\n${i}`,s.threadID,(()=>n.unsendMessage(t.messageID)))))));break;case"unbanuser":h=s.body.split(" "),i="",o="",c="",u=h.map((n=>parseInt(n)));for(let n of u){var p;b=(p=t.listBanned[n-1]).slice(3);let e=p.split(":");const s=e[e.length-1].trim(),d=(await a.getData(s)).data||{};d.banned=0,d.reason=null,d.dateAdded=null,await a.setData(s,{data:d});m=global.data.userBanned.delete(s,1);i+=m+" "+p+"\n",o+=" "+s+"\n",c+=" "+b+"\n"}n.sendMessage(`ğŸŒ¸ThÆ°Ì£c thi Unban(true/false)ğŸŒ¸\n\n${i}`,s.threadID,(()=>n.unsendMessage(t.messageID)))}},module.exports.run=async function({event:n,api:e,Users:a,args:t,Threads:s}){const{threadID:d,messageID:r}=n;var l=[],g=[];i=1,j=1;switch(t[0]){case"thread":case"t":case"-t":{const a=global.data.threadBanned.keys();for(const n of a){const e=await global.data.threadInfo.get(n).threadName||"ğŸŒ¸TÃªn khÃ´ng tá»“n táº¡iğŸŒ¸",a=await global.data.threadBanned.get(n).reason,t=await global.data.threadBanned.get(n).dateAdded;l.push(`${i++}. ${e}\nğŸ”°TID: ${n}`),g.push(`${j++}. ${e}\nğŸ”°TID: ${n}\nğŸ¤·â€â™€ï¸LÃ½ do: ${a}\n_Time: ${t}`)}return e.sendMessage(0!=g.length?e.sendMessage(`ğŸŒ¸Hiá»‡n táº¡i Ä‘ang cÃ³ ${g.length} nhÃ³m bá»‹ ban\n\n${g.join("\n\n")}\n\nReply tin nháº¯n nÃ y + sá»‘ thá»© tá»±, cÃ³ thá»ƒ rep nhiá»u sá»‘, cÃ¡ch nhau báº±ng dáº¥u cÃ¡ch Ä‘á»ƒ unban thread tÆ°Æ¡ng á»©ngğŸŒ¸`,d,((e,a)=>{client.handleReply.push({name:this.config.name,messageID:a.messageID,author:n.senderID,type:"unbanthread",listBanned:l})}),r):"ğŸŒ¸Hiá»‡n táº¡i khÃ´ng cÃ³ nhÃ³m nÃ o bá»‹ banğŸŒ¸",d,r)}case"user":case"u":case"-u":{const t=global.data.userBanned.keys();for(const n of t){const e=global.data.userName.get(n)||await a.getNameUser(n),t=await global.data.userBanned.get(n).reason,s=await global.data.userBanned.get(n).dateAdded;g.push(`${i++}. ${e} \nğŸ”°UID: ${n}\nğŸ¤·â€â™€ï¸LÃ½ do: ${t}\n_Time: ${s}`),l.push(`${j++}. ${e} \nğŸ”°UID: ${n}`)}return e.sendMessage(0!=g.length?e.sendMessage(`ğŸŒ¸Hiá»‡n táº¡i Ä‘ang cÃ³ ${g.length} ngÆ°á»i dÃ¹ng bá»‹ ban\n\n${g.join("\n\n")}\n\nReply tin nháº¯n nÃ y + sá»‘ thá»© tá»±, cÃ³ thá»ƒ rep nhiá»u sá»‘, cÃ¡ch nhau báº±ng dáº¥u cÃ¡ch Ä‘á»ƒ unban user tÆ°Æ¡ng á»©ngğŸŒ¸`,d,((e,a)=>{global.client.handleReply.push({name:this.config.name,messageID:a.messageID,author:n.senderID,type:"unbanuser",listBanned:l})}),r):"ğŸŒ¸Hiá»‡n táº¡i khÃ´ng cÃ³ ngÆ°á»i dÃ¹ng bá»‹ banğŸŒ¸",d,r)}default:return global.utils.throwError(this.config.name,d,r)}};
